10분 테코톡 트랜잭션을 보고 정리한 내용입니다.





* 



```sql
BEGIN TRAN # 트랜잭션 시작
UPDATE accounts
SET balance = balance - 10000
WHERE user = '구매자';

UPDATE accounts
SET balance = balance + 10000;
WHERE user = '판매자';
COMMIT TRANS # 트랜잭션 종료
```

* BEGIN ~ COMMIT 까지의 묶음이 한 트랜잭션이다



## Spring @Transactional 속성들

* https://docs.spring.io/spring-framework/docs/2.0.x/reference/transaction.html

**Table 16.3. @Transactional Settings**

| Property                                                     | Type                                                         | Description                                                  |
| ------------------------------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ |
| [value](https://docs.spring.io/spring-framework/docs/4.2.x/spring-framework-reference/html/transaction.html#tx-multiple-tx-mgrs-with-attransactional) | String                                                       | Optional qualifier specifying the transaction manager to be used. |
| [propagation](https://docs.spring.io/spring-framework/docs/4.2.x/spring-framework-reference/html/transaction.html#tx-propagation) | enum: `Propagation`                                          | Optional propagation setting.                                |
| `isolation`                                                  | enum: `Isolation`                                            | Optional isolation level.                                    |
| `readOnly`                                                   | boolean                                                      | Read/write vs. read-only transaction                         |
| `timeout`                                                    | int (in second, 초 단위)                                     | Transaction timeout.                                         |
| `rollbackFor`                                                | Array of `Class` objects, which must be derived from `Throwable.`<br />Throwable'에서 파생되어야 하는 'Class' 객체의 배열. | Optional array of exception classes that *must* cause rollback. |
| `rollbackForClassName`                                       | Array of class names. Classes must be derived from `Throwable.`<br />* 클래스 이름의 배열<br />* 클래스는 'Throwable'에서 파생 | Optional array of names of exception classes that *must* cause rollback. |
| `noRollbackFor`                                              | Array of `Class` objects, which must be derived from `Throwable.` | Optional array of exception classes that *must not* cause rollback. |
| `noRollbackForClassName`                                     | Array of `String` class names, which must be derived from `Throwable.` | Optional array of names of exception classes that *must not* cause rollback. |